<!-- 회원가입 하는 폼 -->
{% extends 'layout.html' %}

{% block content %}
<div class="timeline">
    <form id="join-form" action="/user/update_profile" method="post">
        {% if userProvider == 'local' %}
        <div class="input-group">
            <label for="join-email">이메일</label>
            <input id="join-email" type="email" name="email" value={{userEmail}}>
        </div>
        {% endif %}
        <div class="input-group">
            <label for="join-nick">닉네임</label>
            <input id="join-nick" type="text" name="nick" value={{userNickname}}>
        </div>
        {% if userProvider == 'local' %}
        <div class="input-group">
            <label for="join-password">비밀번호</label>
            <input id="join-password" type="password" name="password">
        </div>
        {% endif %}
        <button id="join-btn" type="submit" class="btn">변경하기</button>
    </form>
</div>
{% endblock %}

{% block script %}
<script>
    window.onload = () => {
        if (new URL(location.href).searchParams.get('error')) {
            alert('이미 존재하는 이메일입니다.');
        }
    };
</script>
{% endblock %}